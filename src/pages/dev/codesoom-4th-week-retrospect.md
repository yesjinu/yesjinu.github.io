---
layout: '../../layouts/BlogPost.astro'
title:  코드숨 4주차 과정 회고

pubDate: 2022-07-02T23:35:09.000Z

draft: true

---

[

TDD를 활용한 고양이 장난감 가게 구현 by yesjinu · Pull Request #71 · CodeSoom/spring-week4-assignment-1

TDD를 이용해 Toy를 관리하는 CRUD API handler를 작성했습니다.실패하는 테스트 작성 -> 테스트가 성공하도록 코드 수정 -> 리팩터링 사이클을 잘 돌아보려고 했는데 마음처럼 잘 안 됐네요 😓

![](https://github.com/fluidicon.png)GitHubCodeSoom

![](https://opengraph.githubassets.com/81a6ffb652e3bfec43a043e634d6a2b0e0a9c956d22f4a232173cc7ffe9912a8/CodeSoom/spring-week4-assignment-1/pull/71)
](https://github.com/CodeSoom/spring-week4-assignment-1/pull/71)
## TDD에 대한 생각

이번 주 코드숨에는 테스트 주도 개발 방법론을 활용해 CRUD API handler를 작성하는 과제가 주어졌다. 내가 처음 TDD를 접한 것은 박재성(포비) 님을 통해서였다. 개발 컨퍼런스 영상을 찾아보던 중에 박재성 님이 '우아한테크세미나'(아마 우아한형제들 사내 개발 세미나)에서 TDD에 대해 강연하는 것을 듣게 되었다.

이번 과제를 진행하면서도 TDD cycle인 '실패하는 테스트 작성' -> '재빠르게 테스트 성공하게 만들기' -> '코드 리팩토링하기'를 반복하기 위해 노력했다. 강의를 듣고난 이후에 가벼운 토이 프로젝트로 TDD 방법론을 연습해보았지만, 마음 속에 약간의 의문은 있었다. '이걸 실무에도 적용할 수 있을까?' 몇 가지 의문 포인트를 나열하자면 다음과 같았다.

### 프로젝트의 구조를 미리 계획하지 않아도 괜찮은가?

TDD 방법론은 테스트를 먼저 추가하도록 권하고, 이후에 그 테스트를 통과하게 만드는 코드를 작성할 것을 권한다. 테스트를 추가하는 시점에는 아직 존재하지 않는 클래스와 메소드를 사용하기 때문에, IDE에서는 이 부분에 빨간색 글씨로 `ERROR`를 띄우는데(!), 이를 해결하기 위해 클래스와 메소드를 나중에 추가하는 식이다. 코드를 몇 줄 추가하면 테스트를 통과하게 만드는 코드를 짜는 것은 어렵지 않다. 테스트를 통과하는 데 필요한 만큼 코드를 추가한 이후에는 코드를 리팩토링한다.

내가 걸리는 부분은 바로 이 부분이다. 예컨대, 초상화를 그린다고 하면 먼저 도화지의 사이즈를 고려해 그림이 차지할 위치를 결정하고, 얼굴의 윤곽부터 시작해 구도를 잡아나갈 것이다. 이후에 조금씩 세부사항을 추가해가며 그림을 완성해 갈 것이다. 하지만 TDD 방법론은 눈부터 세밀하게 그리기 시작해, 그려진 눈을 기반으로 다른 부분(코와 입)의 위치를 정해나가는 식으로 느껴졌다.

우리의 목표가 Controller가 바깥으로 노출되는 아키텍쳐 구조를 가진 서버를 만드는 것이었으니, 지금까지의 나라면 피쳐 코드를 추가하기 이전에 Controller, Service, Repository에 해당하는 패키지와 클래스를 먼저 추가하고 큰 구조를 잡았을 것이다. 하지만 TDD를 통해 기능부터 코드를 작성하다보니 '이렇게 해도 괜찮을까'하는 의구심이 자꾸 생겼다.

### 요구사항이 명확하지 않은 경우에는 어떻게 해야하는가?

TDD를 통해 코드를 작성하는 것의 장점은 개발자로 하여금 요구사항을 명확히 하라는 압력을 준다는 것이다. 테스트를 작성할 때 개발자는 의식하지 않아도 input과 output을 고려하게 되고, 이것이 기능의 요구사항을 명확히 하는 데에 도움이 된다.

하지만, 일하다보면 요구사항이 불명확하거나, 자주 변경되는 프로젝트를 개발해야하는 일도 생긴다 😓 일단 코드 구조를 만들어놓고, 이후에 요구사항이 확정되면 코드를 수정하거나 추가하는 식의 전략이 유효할 때도 있다. 이런 경우 테스트 코드 역시 요구사항과 함께 수정되어야 하기 때문에, 테스트가 프로젝트 퀄리티 유지에 적절한 도움을 주지 못한다고 할 수 있다.

물론 이번 과제의 경우, 요구사항이 비교적 명확했기 때문에 TDD를 하기에 좋은 환경이었다고 할 수 있지만, 그럼에도 TDD를 적용하는 것은 어려웠다 😓 이름 그대로 '테스트가 개발을 주도하는' 느낌을 가지려고 노력했지만, 어느새 기존의 방법대로 코드를 작성하고 이후에 테스트를 코드에 맞춰 수정하고 있었다 🤔 아무래도 1주일의 연습으로는 부족하니, [테스트 주도 개발](http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&amp;mallGb=KOR&amp;barcode=9788966261024&amp;orderClick=LEa&amp;Kc=) 과 같은 책을 읽고 더 감을 잡는 시간을 가져야겠다.

---

## 생각을 정리할 시간, 어떻게 낼까?

> "지금 우리에겐 기획자나 PO가 함께 일하고 있는 상황이 아니죠. 그러니 진우님이 한번 스스로 결정해서 진행해 보는 것도 좋겠어요. 단, 그냥 결정하고 코딩하고 끝나는 게 아니라 "결정"에 대한 충분한 근거를 글로 써보세요."

코드 리뷰를 진행하다보면 종립님이 생각해볼만한 것에 대해 화두를 던져주실 때가 있다. 관성적으로 코드를 작성하다보면 '당연스럽게' 하는 선택들이 있는데, 보통 이것들에 대한 것이다. 몇 가지를 노트 앱에 적어놓고 시간이 날 때 조금씩 생각을 추가하려고 했다. 그런데 퇴근하고 코드숨 과제하고 나면 시간이 없어서 글을 작성할 틈이 없다. 가끔은 뇌를 좀 쉬게 하고 싶다는 생각을 하는데, 할 일은 계속 쌓여가고 있다. 어떻게 하면 더 많은 일들을 처리해낼 수 있을까?
